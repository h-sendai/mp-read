# mp-read

マルチプロセスでデータを読むテスト用プログラム。

## Usage

```
./mp-read ip_address:port [ip_address:port] ...
```

```
./mp-read 192.168.10.16:24 192.168.10.17:24
```
のように``ip_address:port``で接続先を指定する。

1 IPアドレスにつき1個のプロセスを生成する。
デフォルトでは1秒に1回、読み出しスピードを表示する（単位: MB/s）。

## 生成されたプロセスが走るCPUコアの指定

-c cpu_numで走るCPUコアを指定できる。
-c 1 -c 2のように複数回指定するとコマンドラインで指定した
IPアドレス順にそのCPUコアで走る。
指定回数がIPアドレス数より少ない場合は足りない分はOSスケジューラに
より走行するCPUコアが決まる。

例:

```
./mp-read -c 1 -c 2 192.168.10.10:24 192.168.10.11:24
```

192.168.10.10:24用プロセスはCPU #1で走り、192.168.10.11:24用プロセスは
CPU #2で走る。

```
./mp-read -c 1 -c 2 192.168.10.10:24 192.168.10.11:24 192.168.10.12:24
```
192.168.10.10:24用プロセスはCPU #1で走り、192.168.10.11:24用プロセスは
CPU #2で走る。192.168.10.12:24用プロセスが走るCPU番号はユーザーからは
指定されていないのでOSスケジューラが決定する（走っている途中で変わる
こともある）。
